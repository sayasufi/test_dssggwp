# Система бронирования переговорных комнат

## Описание
Это веб-приложение предназначено для бронирования переговорных комнат в офисе. Пользователи могут создавать бронирования для любых целей, просматривать список бронирований и генерировать отчеты о бронированиях в формате Word.

## Функционал

### Основные возможности
- Регистрация и авторизация пользователей.
- Создание бронирований для переговорных комнат.
- Просмотр списка бронирований с фильтрацией по дате и комнате.
- Генерация отчетов о бронированиях в формате Word.
- Административная панель для управления пользователями, комнатами и бронированиями.

### API
- **Комнаты**
  - `GET /api/rooms/` - получение списка всех комнат.
    ```bash
    curl -X GET http://127.0.0.1:8000/api/rooms/
    ```
  - `POST /api/rooms/` - создание новой комнаты.
    ```bash
    curl -X POST http://127.0.0.1:8000/api/rooms/ -H "Content-Type: application/json" -d '{"room_number": "Комната 1", "description": "Описание комнаты"}'
    ```
- **Бронирования**
  - `GET /api/bookings/` - получение списка всех бронирований.
    ```bash
    curl -X GET http://127.0.0.1:8000/api/bookings/
    ```
  - `POST /api/bookings/` - создание нового бронирования.
    ```bash
    curl -X POST http://127.0.0.1:8000/api/bookings/ -H "Content-Type: application/json" -d '{"room": 1, "start_time": "2024-05-31T12:00:00Z", "end_time": "2024-05-31T13:00:00Z", "purpose": "Встреча", "user": 1}'
    ```
  - `GET /api/bookings/by_date_range/` - получение бронирований за указанный период.
    ```bash
    curl -X GET "http://127.0.0.1:8000/api/bookings/by_date_range/?start_date=2024-05-01&end_date=2024-05-31"
    ```
- **Отчет**
  - `GET /api/generate_report/` - генерация отчета о бронированиях в формате Word.
    ```bash
    curl -X GET "http://127.0.0.1:8000/api/generate_report/?start_date=2024-05-01&end_date=2024-05-31&room_id=1"
    ```

## Установка

### Системные требования
- Python 3.6+
- Django 3.0+
- SQLite (по умолчанию)

### Шаги установки

1. **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/sayasufi/test_dssggwp.git
    cd booking-system
    ```

2. **Создайте и активируйте виртуальное окружение:**
    ```bash
    python -m venv venv
    source venv/bin/activate  # Для Windows используйте `venv\Scripts\activate`
    ```

3. **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

4. **Примените миграции для создания базы данных:**
    ```bash
    python manage.py migrate
    ```

5. **Создайте суперпользователя для доступа к административной панели:**
    ```bash
    python manage.py createsuperuser
    ```

6. **Запустите сервер разработки:**
    ```bash
    python manage.py runserver
    ```

7. **Откройте браузер и перейдите по адресу:**
    ```plaintext
    http://127.0.0.1:8000
    ```

## Использование

### Регистрация и авторизация

- Перейдите на страницу [Регистрация](http://127.0.0.1:8000/accounts/signup/) для создания учетной записи.
- Перейдите на страницу [Авторизация](http://127.0.0.1:8000/accounts/login/) для входа в систему.

### Бронирование комнаты

1. Перейдите на страницу [Бронирование комнаты](http://127.0.0.1:8000/book_room/).
2. Выберите комнату, время начала и окончания, а также укажите цель бронирования.
3. Нажмите "Забронировать".

### Просмотр списка бронирований

1. Перейдите на страницу [Список бронирований](http://127.0.0.1:8000/booking_list/).
2. Установите фильтры (по комнате и дате) и нажмите "Фильтр".
3. Отобразится список всех бронирований, удовлетворяющих условиям фильтра.

### Генерация отчета

1. После фильтрации бронирований на странице [Список бронирований](http://127.0.0.1:8000/booking_list/) нажмите "Скачать отчет".
2. Отчет будет сгенерирован и скачан в формате Word.

### Административная панель
1. Перейдите на страницу администрирования по адресу http://127.0.0.1:8000/admin.
2. Войдите под учетной записью суперпользователя.
3. Управляйте пользователями, комнатами и бронированиями через интерфейс административной панели.

## Тестирование

Для запуска автоматических тестов выполните следующую команду:

```bash
python manage.py test accounts